<?xml version="1.0"?>
<!-- TODO: full refactor -->
<launch>

  <!-- spawn general model for the youbot -->
  <arg name="youbot_model" default="$(find youbot_description)/robots/youbot.urdf.xacro" />
  <param name="robot_description" command="$(find xacro)/xacro.py '$(arg youbot_model)'" />

  <arg name="ns" default="/youbot" />

  <group ns="$(arg ns)">
    <!-- Load joint controller configurations from YAML file to parameter server -->
    <rosparam file="$(find youbot_control)/config/youbot_control.yaml" command="load" ns="$(arg ns)" /> 


    <node name="controller_spawner" pkg="controller_manager"
      type="spawner" respawn="false" output="screen"
      args="--namespace=$(arg ns)
      arm_joint_1_position_controller
      arm_joint_2_position_controller
      arm_joint_3_position_controller
      arm_joint_4_position_controller
      arm_joint_5_position_controller
      gripper_finger_joint_l_position_controller
      gripper_finger_joint_r_position_controller" />
    </group>
  <!--         
        wheel_joint_fl_velocity_controller
        wheel_joint_fr_velocity_controller
        wheel_joint_bl_velocity_controller
        wheel_joint_br_velocity_controller
        caster_joint_fl_position_controller
        caster_joint_fr_position_controller
        caster_joint_bl_position_controller
        caster_joint_br_position_controller
      -->

    </launch>


